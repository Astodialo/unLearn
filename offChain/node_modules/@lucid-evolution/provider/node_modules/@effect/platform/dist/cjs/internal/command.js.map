{"version":3,"file":"command.js","names":["Chunk","_interopRequireWildcard","require","Effect","_Function","HashMap","Inspectable","Option","_Pipeable","Stream","commandExecutor","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CommandTypeId","exports","Symbol","for","isCommand","env","dual","self","environment","_tag","makeStandard","union","fromIterable","entries","filter","v","undefined","pipeTo","left","right","exitCode","flatMap","CommandExecutor","executor","feed","input","stdin","fromChunk","of","TextEncoder","encode","flatten","Array","from","flattenLoop","appendAll","runInShell","shell","lines","command","encoding","Proto","pipe","pipeArguments","arguments","BaseProto","StandardProto","toJSON","_id","args","fromEntries","cwd","gid","uid","options","assign","create","PipedProto","makePiped","make","empty","none","stdout","stderr","into","output","start","stream","process","streamLines","string","workingDirectory","some"],"sources":["../../../src/internal/command.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}